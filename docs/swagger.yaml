openapi: 3.0.0
info:
  title: Turing API
  description: API endpoints for Turing API

version: 0.1.9

servers:
  - url: http://localhost:3003/api
  - url: https://turing-api-endpoints.herokuapp.com/api

components:
  schemas:
    Product:
      type: object
      properties:
        name:
          type: string
          example: shirt
    Department:
      type: object
      properties:
        department_id:
          type: number
          example: 1
        name:
          type: string
          example: Regional
        description:
          type: string
          example: Proud of your country? Wear a T-shirt with a national symbol stamp!
    Departments:
      type: array
      items:
        $ref: '#components/schemas/Department'
    Category:
      type: object
      properties:
        category_id:
          type: number
          example: 1
        department_id:
          type: number
          example: 3
        name:
          type: string
          example: Regional
        description:
          type: string
          example: It was Churchill who remarked that he thought the Irish most curious because they didn't want to be English. How right he was! But then, he was half-American, wasn't he? If you have an Irish genealogy you will want these T-shirts! If you suddenly turn Irish on St. Patrick's Day, you too will want these T-shirts! Take a look at some of the coolest T-shirts we have!"
    Categories:
      type: array
      items:
        $ref: '#components/schemas/Category'


paths:
  /products:
    get:
      summary: Retrieve all products
      description: Retrieve all products from api
      tags:
        - Products
      parameters:
        - in: query
          name: page
          schema:
            type: integer
          description: Inform the page. Starting with 1. Default: 1
        - in: query
          name: limit
          schema:
            type: integer
          description: Limit per page, Default: 20.
        - in: query
          name: description_length
          schema:
            type: integer
          description: Limit of the description, Default: 200.
      responses:
        200:
          description: Get All Products
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: number
                    example: 40
                  rows:
                    type: array
                    items:
                      type: object
                      properties:
                        product_id:
                          type: number
                          example: 1
                        name:
                          type: string
                          example: Chartres Cathedral
                        description:
                          type: string
                          example: "\"The Fur Merchants\". Not all the beautiful stained glass in the great cathedrals depicts saints and angels! Lay aside your furs for the summer and wear this beautiful T-shirt!"
                        price:
                          type: string
                          example: 16.95
                        discounted_price:
                          type: string
                          example: 15.95
                        thumbnail:
                          type: string
                          example: chartres-cathedral-thumbnail.gif
  /departments:
    get:
      summary: Retrieve all departments
      description: Return a list of departments
      tags:
        - Departments
      parameters:
        - in: path
          name: department_id
          schema:
            type: integer
          description: ID of Department
      responses:
        200:
          description: Get All departments
          content:
            application/json:
              schema:
                type: object
                $ref: '#components/schemas/Departments'
  /departments/{department_id}:
    get:
      summary: Get a department
      description: Get a department
      tags:
        - Departments
      parameters:
        - in: path
          name: department_id
          schema:
            type: integer
          description: ID of Department
      responses:
        200:
          description: Get a department
          content:
            application/json:
              schema:
                type: object
                $ref: '#components/schemas/Department'
  /categories:
    get:
      summary: Get categories
      description: Return a list of categories
      tags:
        - Category
      parameters:
        - in: path
          name: category_id
          schema:
            type: integer
          description: ID of a category
      responses:
        200:
          description: Get All categories
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: number
                    example: 40
                  rows:
                    $ref: '#components/schemas/Categories'
  /categories/{category_id}:
    get:
      summary: Get a single category
      description: Return a category
      tags:
        - Category
      parameters:
        - in: path
          name: category_id
          schema:
            type: integer
          description: ID of a category
      responses:
        200:
          description: Get a categories
          content:
            application/json:
              schema:
                type: object
                $ref: '#components/schemas/Categories'
  /categories/inDepartment/{department_id}:
    get:
      summary: Get categories of a department
      description: Return a list of categories
      tags:
        - Category
      parameters:
        - in: path
          name: department_id
          schema:
            type: integer
          description: ID of a department
      responses:
        200:
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: number
                    example: 40
                  rows:
                    $ref: '#components/schemas/Categories'
